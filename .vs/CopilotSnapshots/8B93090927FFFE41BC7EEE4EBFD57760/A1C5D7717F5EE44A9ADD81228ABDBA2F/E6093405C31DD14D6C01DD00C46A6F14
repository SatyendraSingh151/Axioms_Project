@{
    ViewData["Title"] = "Settings";
}

<style>
    .settings-container { max-width:1100px; margin:22px auto; padding:0 16px; font-family:Segoe UI, Arial, sans-serif; }
    .settings-card { display:flex; flex-direction:column; gap:16px; padding:22px; background:#fff; border-radius:10px; box-shadow:0 8px 24px rgba(13,38,71,0.06); }
    .settings-row { display:flex; justify-content:space-between; align-items:center; gap:12px; padding:14px; border-radius:8px; background:linear-gradient(180deg,#f7fbff,#eef6ff); }
    .settings-left { display:flex; flex-direction:column; gap:6px }
    .note { color:#0b66bf; font-weight:700; font-size:16px }
    .count { font-size:14px; color:#334155 }
    .btn-clear { background:#e53935; color:#fff; padding:10px 16px; border-radius:8px; border:none; cursor:pointer; font-weight:700 }
    .btn-clear:hover { opacity:0.95 }
    .message { padding:12px; border-radius:8px; background:#e6ffed; color:#065f46; border:1px solid #b7f5d6; font-weight:600 }
    .actions { display:flex; gap:10px }

    @media (max-width:720px) {
        .settings-row { flex-direction:column; align-items:flex-start }
        .actions { width:100%; display:flex; justify-content:flex-start }
    }
</style>

<div class="settings-container">
    <h1>Settings</h1>

    <div class="settings-card">
        <div class="settings-row">
            <div class="settings-left">
                <div class="note">Employees</div>
                <div class="count">Current employee count: <strong>@ViewBag.EmployeeCount</strong></div>
            </div>
            <div class="actions">
                <form asp-action="ClearEmployees" method="post" onsubmit="return confirm('Are you sure you want to delete ALL employees? This action cannot be undone.');">
                    @Html.AntiForgeryToken()
                    <button type="submit" class="btn-clear">Clear All Employees</button>
                </form>
                <a asp-controller="Dash" asp-action="Dashboard" class="btn-clear" style="background:#6c757d">Back to Dashboard</a>
            </div>
        </div>

        <div class="settings-row">
            <div class="settings-left">
                <div class="note">Customers</div>
                <div class="count">Current customer count: <strong>@ViewBag.CustomerCount</strong></div>
            </div>
            <div class="actions">
                <form asp-action="ClearCustomers" method="post" onsubmit="return confirm('Are you sure you want to delete ALL customers? This action cannot be undone.');">
                    @Html.AntiForgeryToken()
                    <button type="submit" class="btn-clear">Clear All Customers</button>
                </form>
                <a asp-controller="Dash" asp-action="Dashboard" class="btn-clear" style="background:#6c757d">Back to Dashboard</a>
            </div>
        </div>

        @if (TempData["SettingsMessage"] != null)
        {
            <div class="message">@TempData["SettingsMessage"]</div>
        }

        <div style="display:flex;justify-content:flex-end">
            <a asp-controller="Home" asp-action="Index" style="color:#0b66bf;text-decoration:underline;align-self:end">Go to Home</a>
        </div>
    </div>
</div>
